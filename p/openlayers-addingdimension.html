<!doctype html>
<html lang="en">
<head>
<title>openlayers-addingdimension</title>
<meta charset="utf-8">
<style> * { font-family: arial, sans-serif;
font-size: 13px;
line-height: 17px; }ul.indent { list-style-type: none; }ol { list-style-type: decimal; }ol ol { list-style-type: lower-latin; }ol ol ol { list-style-type: lower-roman; }ol ol ol ol { list-style-type: decimal; }ol ol ol ol ol { list-style-type: lower-latin; }ol ol ol ol ol ol{ list-style-type: lower-roman; }ol ol ol ol ol ol ol { list-style-type: decimal; }ol  ol ol ol ol ol ol ol{ list-style-type: lower-latin; }</style>
</head>
<body><a href="http&#x3a;&#x2F;&#x2F;openlayers&#x2e;org&#x2F;">http:&#x2F;&#x2F;openlayers.org&#x2F;</a><br><strong>Online Mapping with OpenLayers</strong><br>Adding Dimension: Points, Lines, and Shapes<br><br><strong>Point</strong><br><br>You&#x27;ve already learned to create points on the map, from the first part of &quot;Clickable Icons in OpenLayers&quot;&nbsp; - <a href="http&#x3a;&#x2F;&#x2F;p2pu&#x2e;org&#x2F;webcraft&#x2F;online&#x2d;maps&#x2d;openlayers&#x2F;document&#x2F;clickable&#x2d;icons&#x2d;openlayers">http:&#x2F;&#x2F;p2pu.org&#x2F;webcraft&#x2F;online-maps-openlayers&#x2F;document&#x2F;clickable-icons-openlayers</a><br><br>The point is the basis for OpenLayers&#x27;s lines and shapes (sometimes called polylines and polygons).&nbsp; This lesson will explain creating and styling these objects, and also cover built-in tools for your users to draw points, lines, and shapes onto the map.<br><br><strong>Line</strong><br><br>OpenLayers&#x27;s official class name for a line is LineString <a href="http&#x3a;&#x2F;&#x2F;dev&#x2e;openlayers&#x2e;org&#x2F;releases&#x2F;OpenLayers&#x2d;2&#x2e;10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;LineString&#x2d;js&#x2e;html">http:&#x2F;&#x2F;dev.openlayers.org&#x2F;releases&#x2F;OpenLayers-2.10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;LineString-js.html</a><br><br>The first section on that page, a constructor, explains that to create a LineString, you need to send it an array (list) of points.&nbsp; There are multiple ways to do this:<br><br><ul class="bullet"><li>An easy way to set up a point list</li></ul>pointA = new OpenLayers.Geometry.Point( ... ).transform( ... )<br>pointB = new OpenLayers.Geometry.Point( ... ).transform( ... )<br>pointList = [ pointA, pointB ];<br><br><ul class="bullet"><li>One way to add these quickly is to use an array of coordinates, then a loop to turn those coordinates into points</li></ul><br>&#x2F;&#x2F; the array is a list of something (in this case, a lists of [ longitude, latitude ] lists<br>var linePts = [<br>&nbsp;&nbsp;&nbsp; [ 91.811628, 24.904771 ],<br>&nbsp;&nbsp;&nbsp; [ 91.810856, 24.91096&nbsp;&nbsp; ],<br>&nbsp;&nbsp;&nbsp; [ 91.817636, 24.911855 ],<br>&nbsp;&nbsp;&nbsp; [ 91.831133, 24.907477 ],<br>&nbsp;&nbsp;&nbsp; [ 91.841497, 24.898679 ],<br>&nbsp;&nbsp;&nbsp; [ 91.841025, 24.895312 ],<br>&nbsp;&nbsp;&nbsp; [ 91.837935, 24.891225 ],<br>&nbsp;&nbsp;&nbsp; [ 91.842356, 24.889006 ],<br>&nbsp;&nbsp;&nbsp; [ 91.853814, 24.888626 ]<br>];<br><br>&#x2F;&#x2F; a FOR loop operates on each item inside a list<br>for( i=0; i&lt;=linePts.length-1; i=i+1 ) {<br>&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; turn this coordinate array into a point<br>&nbsp; linePts[i] = new OpenLayers.Geometry.Point( linePts[i][0], linePts[i][1]);<br>&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; use projection transformation<br>&nbsp; linePts[i] = linePts[i].transform( map.displayProjection, map.projection);<br>}<br><br>For my example, I wanted a section of a river to stand out on my map of Sylhet, Bangladesh.&nbsp; I found longitude and latitude values, put them together, and made this map:<br><a href="http&#x3a;&#x2F;&#x2F;jsfiddle&#x2e;net&#x2F;ndoiron&#x2F;UAxun&#x2F;89&#x2F;">http:&#x2F;&#x2F;jsfiddle.net&#x2F;ndoiron&#x2F;UAxun&#x2F;89&#x2F;</a><br><br><br><strong>Shape</strong><br><br>Lines simply aren&#x27;t enough.&nbsp; To highlight buildings, properties, districts and any other area, you advance to a shape.&nbsp; OpenLayers officially calls these Polygons, but if it&#x27;s been awhile since you were in geometry class, you probably think of them as shapes: <a href="http&#x3a;&#x2F;&#x2F;dev&#x2e;openlayers&#x2e;org&#x2F;releases&#x2F;OpenLayers&#x2d;2&#x2e;10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;Polygon&#x2d;js&#x2e;html">http:&#x2F;&#x2F;dev.openlayers.org&#x2F;releases&#x2F;OpenLayers-2.10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;Polygon-js.html</a><br><br>You&#x27;d think that constructing a Polygon would be about the same as a line... trace the outside and you&#x27;re done, right?&nbsp; Well, what would you do about donut shapes, or countries within countries?&nbsp; So a Polygon is a list of LinearRings.&nbsp; A LinearRing - <a href="http&#x3a;&#x2F;&#x2F;dev&#x2e;openlayers&#x2e;org&#x2F;releases&#x2F;OpenLayers&#x2d;2&#x2e;10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;LinearRing&#x2d;js&#x2e;html">http:&#x2F;&#x2F;dev.openlayers.org&#x2F;releases&#x2F;OpenLayers-2.10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;LinearRing-js.html</a> - is a list of points which form an outer or inner boundary of the shape.&nbsp; They&#x27;re as easy to make as LineStrings, but automatically OpenLayers will connect the first and last points of a LinearRing.<br><br>For my example, I was thinking about outlining a state or a country, but there are better, accurate ways to do that: <a href="http&#x3a;&#x2F;&#x2F;openlayers&#x2e;org&#x2F;dev&#x2F;examples&#x2F;cql&#x2d;format&#x2e;html">http:&#x2F;&#x2F;openlayers.org&#x2F;dev&#x2F;examples&#x2F;cql-format.html</a><br><br>I decided instead to outline some buildings in Boston, and play a related video when someone clicks on them: <a href="http&#x3a;&#x2F;&#x2F;jsfiddle&#x2e;net&#x2F;ndoiron&#x2F;UAxun&#x2F;90&#x2F;">http:&#x2F;&#x2F;jsfiddle.net&#x2F;ndoiron&#x2F;UAxun&#x2F;90&#x2F;</a><br>This is some useful code if you were looking to add YouTube to your maps ( or open video ).<br><br><strong>Multi-Geometry</strong><br><br>If you want multiple points, lines, or shapes to be part of the same object -- particularly useful to style several objects at once, or to make clicking easy with any one object -- you can use Multi- objects.&nbsp; Just send it a list of objects: <a href="http&#x3a;&#x2F;&#x2F;dev&#x2e;openlayers&#x2e;org&#x2F;releases&#x2F;OpenLayers&#x2d;2&#x2e;10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;MultiPoint&#x2d;js&#x2e;html">http:&#x2F;&#x2F;dev.openlayers.org&#x2F;releases&#x2F;OpenLayers-2.10&#x2F;doc&#x2F;apidocs&#x2F;files&#x2F;OpenLayers&#x2F;Geometry&#x2F;MultiPoint-js.html</a><br><br><br><strong>Advanced Style</strong><br><br>You don&#x27;t want all of your lines and polygons to look the same... that&#x27;s boring.&nbsp; Have a diverse amount of style items that you can set on each polygon.<br><br>The most noticeable things you can control are border and fill color, as well as transparency.<br><br>Hope to see people using these attributes<a href="http&#x3a;&#x2F;&#x2F;openlayers&#x2e;org&#x2F;">http:&#x2F;&#x2F;openlayers.org&#x2F;</a><br>-strokeLinecap<br>-strokeDashstyle<br><br><a href="http&#x3a;&#x2F;&#x2F;docs&#x2e;openlayers&#x2e;org&#x2F;library&#x2F;feature&#x5f;styling&#x2e;html&#x23;style&#x2d;properties">http:&#x2F;&#x2F;docs.openlayers.org&#x2F;library&#x2F;feature_styling.html#style-properties</a><br><br><br><strong>Drawing Control</strong><br><br>You aren&#x27;t the only one who wants to draw on your map.&nbsp; Users want to add their own favorite places, trace hiking trails, and select search areas.&nbsp; Fortunately, OpenLayers has these tools baked in.&nbsp; Here&#x27;s a working example where you can practice drawing.&nbsp; Click to draw, double-click to stop: <a href="http&#x3a;&#x2F;&#x2F;openlayers&#x2e;org&#x2F;dev&#x2F;examples&#x2F;draw&#x2d;feature&#x2e;html">http:&#x2F;&#x2F;openlayers.org&#x2F;dev&#x2F;examples&#x2F;draw-feature.html</a><br><br>The Control is described here <a href="http&#x3a;&#x2F;&#x2F;dev&#x2e;openlayers&#x2e;org&#x2F;docs&#x2F;files&#x2F;OpenLayers&#x2F;Control&#x2F;DrawFeature&#x2d;js&#x2e;html">http:&#x2F;&#x2F;dev.openlayers.org&#x2F;docs&#x2F;files&#x2F;OpenLayers&#x2F;Control&#x2F;DrawFeature-js.html</a><br><br>&#x2F;&#x2F;start by creating the layer where polygons will go<br>var polygonLayer = new OpenLayers.Layer.Vector(&quot;Drawn Shapes&quot;);<br>map.addLayer(polygonLayer);<br><br>&#x2F;&#x2F; OpenLayers.Handler.Polygon is only a number, but it tells DrawFeature what to draw&nbsp;<br>polygonControl = new OpenLayers.Control.DrawFeature( polygonLayer, OpenLayers.Handler.Polygon );<br>polygonControl.featureAdded=useDrawnPolygon;<br>map.addControl(polygonControl);<br>polygonControl.activate();<br><br>We connect featureAdded event to the useDrawnPolygon function.&nbsp; Let&#x27;s make that now, and have it turn the finished polygons red.<br><br>function useDrawnPolygon( feature ) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; turn the polygon red<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; feature.style.fillColor=&quot;red&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#x2F;&#x2F; get a list of points (in case you want to use this for other applications)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; featurePts=feature.geometry.getVertices();<br>}<br><br></body>
</html>
